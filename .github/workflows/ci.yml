name: "Sample react CI Pipeline / Workflow"

on:
  push:
    branches:
      - main
      - master

jobs:
  build-and-test:
    runs-on: ubuntu-latest

    steps:
        - name: "Setup Node.js environment"
          uses: actions/setup-node@v4
          with:
            node-version: 22
         
        - name: "Check node version"
          run: node -v

        - name: "Checkout repository"
          uses: actions/checkout@v4

        - name: "Install dependencies"
          run: npm install  

        - name: "List directoories"
          run: ls  

        - name: "Lint Code"
          run: npm run lint

        - name: "Run Tests"
          run: npm test
          
        - name: "Build Application"
          run: npm run build  

        - name: "Upload Production Build Artifacts"
          uses: actions/upload-artifact@v4
          with:
            name: build
            path: dist/